<!DOCTYPE html>
<html>
<head>
    <title>香港地标AR（基础版）</title>
    <!-- 引入Three.js和AR.js（保持不变） -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <style>
        /* 简单加载提示，避免黑屏误解 */
        .loading {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: white; font-size: 16px; z-index: 999;
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">加载中... 请扫描AR标记</div>

    <!-- AR场景：仅保留核心配置，添加标记尺寸适配A4 -->
    <a-scene arjs="trackingMethod: best; sourceType: webcam; markerSize: 0.297;">
        <!-- 1. 可选：用自定义marker.png（替换默认hiro标记），不想换就保留preset="hiro" -->
        <a-marker preset="hiro">
            <!-- 2. 保留红色立方体，调整位置和动画更直观 -->
            <a-box 
                position="0 0.3 0"  
                rotation="0 45 0"  
                color="#FF0000"      
                scale="0.5 0.5 0.5" 
                animation="property: rotation; to: 0 405 0; dur: 8000; repeat: indefinite;">
            </a-box>
        </a-marker>

        <!-- 相机（保持不变） -->
        <a-entity camera></a-entity>
    </a-scene>

    <!-- 摄像头权限提示（避免用户忽略） -->
    <script>
        // 加载完成后隐藏提示（AR场景就绪即执行）
        document.querySelector('a-scene').addEventListener('loaded', () => {
            document.getElementById('loading').style.display = 'none';
        });

        // 摄像头权限请求
        navigator.mediaDevices.getUserMedia({ video: true }).catch(() => {
            alert("请允许摄像头权限，否则无法使用AR功能");
        });
    </script>
</body>
</html>an hua